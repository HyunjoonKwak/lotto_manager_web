{% extends "base.html" %}

{% block content %}
<!-- Main Content Grid -->
<div class="main-content">

  <!-- Latest Draw Results -->
  {% if latest %}
  <section class="card highlight-card">
    <div class="card-header">
      <h2>π― {{ latest.round }}ν μµμ‹  μ¶”μ²¨κ²°κ³Ό</h2>
      <span class="draw-date">{{ latest.draw_date if latest.draw_date else '' }}</span>
    </div>
    <div class="draw-result">
      <div class="numbers">
        {% for num in latest.numbers_list() %}
          <span class="number-ball">{{ num }}</span>
        {% endfor %}
      </div>
      <div class="bonus-section">
        <span class="plus">+</span>
        <span class="bonus-ball">{{ latest.bonus }}</span>
        <span class="bonus-label">λ³΄λ„μ¤</span>
      </div>
    </div>
  </section>
  {% else %}
  <section class="card error-card">
    <h2>β οΈ λ°μ΄ν„° μ—†μ</h2>
    <p>μ¶”μ²¨ κ²°κ³Ό λ°μ΄ν„°κ°€ μ—†μµλ‹λ‹¤. μ •λ³΄μ΅°ν νμ΄μ§€μ—μ„ λ°μ΄ν„°λ¥Ό μ—…λ°μ΄νΈν•΄μ£Όμ„Έμ”.</p>
  </section>
  {% endif %}



  <!-- Latest Winning Shops -->
  {% if latest and shops_rank1 %}
  <section class="card">
    <div class="card-header">
      <h2>π {{ latest.round }}ν 1λ“± λ‹Ήμ²¨μ  ({{ shops_rank1|length }}κ°)</h2>
    </div>

    {% if shops_rank1|length > 0 %}
    <div class="table-container">
      <table>
        <thead>
          <tr><th>μλ²</th><th>μƒνΈ</th><th>κµ¬λ¶„</th><th>μ£Όμ†</th></tr>
        </thead>
        <tbody>
          {% for s in shops_rank1 %}
          <tr>
            <td>{{ s.sequence or '' }}</td>
            <td><strong>{{ s.name }}</strong></td>
            <td><span class="badge-method">{{ s.method or 'κµ¬λ¶„μ—†μ' }}</span></td>
            <td>{{ s.address }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% else %}
    <div class="info-box">
      <p>μ•„μ§ 1λ“± λ‹Ήμ²¨μ  μ •λ³΄κ°€ μ—†μµλ‹λ‹¤.</p>
    </div>
    {% endif %}

    <div style="margin-top: 1rem; text-align: center;">
      <p><small>λ” μμ„Έν• λ‹Ήμ²¨μ  μ •λ³΄λ” <a href="{{ url_for('main.info_page') }}">μ •λ³΄μ΅°ν νμ΄μ§€</a>μ—μ„ ν™•μΈν•μ„Έμ”.</small></p>
    </div>
  </section>
  {% endif %}

</div> <!-- End main-content -->

{% endblock %}
